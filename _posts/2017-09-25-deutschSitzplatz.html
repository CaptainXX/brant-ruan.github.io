---
title: Sitzplatz
category: Other
---

<html>
 <head> 
  <meta charset="utf-8" />
  <title>Sitzplatz</title>
 </head>
 <body>
  <br>
  <br>
  <br>
  <br>
  <br>
  <h2 align="center">Sitzplatz</h2> 
  <table align="center"> 
   <tbody>
    <tr>
     <td class="nobody">X</td> 
     <td class="nobody">X</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_0">wait</td> 
     <td class="body" id="seat_1">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_2">wait</td> 
     <td class="body" id="seat_3">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="nobody">X</td> 
     <td class="nobody">X</td> 
    </tr> 
    <tr> 
     <td class="body" id="seat_4">wait</td> 
     <td class="body" id="seat_5">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_6">wait</td> 
     <td class="body" id="seat_7">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_8">wait</td> 
     <td class="body" id="seat_9">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_10">wait</td> 
     <td class="body" id="seat_11">wait</td> 
    </tr> 
    <tr> 
     <td class="body" id="seat_12">wait</td> 
     <td class="body" id="seat_13">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_14">wait</td> 
     <td class="body" id="seat_15">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_16">wait</td> 
     <td class="body" id="seat_17">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body" id="seat_18">wait</td> 
     <td class="body" id="seat_19">wait</td> 
    </tr> 
    <tr> 
     <td class="body">wait</td> 
     <td class="body">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body">wait</td> 
     <td class="body">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body">wait</td> 
     <td class="body">wait</td> 
     <td class="aisle">&nbsp;&nbsp;&nbsp;&nbsp;</td> 
     <td class="body">wait</td> 
     <td class="body">wait</td> 
    </tr> 
   </tbody>
  </table>
  
  <div align="center">
   <button type="button" id="changeSeat" onclick="changeSeats()">anordnen</button>
  </div>
  
  <!-- Javascript -->
  <script type="text/javascript">
    // part0 initialization
    var part0_f = Array(
        "周丽", "张慧惠", "李曼嘉", "吴晶晶");
    var part0_m = Array(
        "朱佳盛", "杨波", "阮博男", "徐筠益", "李嘉金", 
        "胡旭浩", "黄云飞", "佘嘉欣", "周钢");
    var part0Seats = Array(part0_m.length + part0_f.length);
    // part1 initialization
    part1 = Array("郭兴达", "姬英楠");
    var part1Seats = Array(part1.length); 
    // part2 initialization
    part2 = Array("王琬菁", "滕锦秋", "朱奕辰");
    var part2Seats = Array(part2.length); 
    var part3 = "孙明檀";
    
    var tdIdPrefix = "seat_";
    var seatsNum = 20;
    
    /* randomly order the array */
    function randomSort(a, b) {
        return Math.random()>.5 ? -1 : 1;
    }
    /* delete specific element from array */
    function removeByValue(arr, val) {
        for(var i = 0; i < arr.length; i++) {
            if(arr[i] == val) {
                arr.splice(i, 1);
                break;
            }
        }
    }
    
    /* changeSeats function used by the button in HTML */
    function changeSeats(){
        var part2SeatsOptions = [0, 2, 4, 6, 8, 10];
        var part1SeatsOptions = [0, 2, 4, 6, 8, 10, 12, 14, 16, 18];
        var part0SeatsOptions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 
                                 10, 11, 12, 13, 14, 15, 16, 17, 18, 19];
                                 
        var seats = Array(seatsNum);
        for(var i = 0; i < seatsNum; i++){ // fetch <td>
            seats[i] = document.getElementById(tdIdPrefix + i.toString());
            seats[i].innerHTML = "wait";        
        }
        /* work for part2 */
        var part2OptIdx = parseInt(Math.random() * 6 + 0, 10);
        var part2Option = part2SeatsOptions[part2OptIdx];
        if( part2Option < 4){
            part2Seats[0] = part2Option;
            part2Seats[1] = part2Option + 1;
            part2Seats[2] = part2Option + 6;
            // delete options from part0
            part0SeatsOptions.splice(part2Option, 1);            
            part0SeatsOptions.splice(part2Option, 1);            
            part0SeatsOptions.splice(part2Option + 4, 1);            
            part0SeatsOptions.splice(part2Option + 4, 1);            
            // delete options from part1
            part1SeatsOptions.splice(part2OptIdx, 1);
            part1SeatsOptions.splice(part2OptIdx + 2, 1);
        }
        else{
            part2Seats[0] = part2Option;
            part2Seats[1] = part2Option + 1;
            part2Seats[2] = part2Option + 8;
            // delete options from part0
            part0SeatsOptions.splice(part2Option, 1);            
            part0SeatsOptions.splice(part2Option, 1);            
            part0SeatsOptions.splice(part2Option + 6, 1);            
            part0SeatsOptions.splice(part2Option + 6, 1);            
            // delete options from part1
            part1SeatsOptions.splice(part2OptIdx, 1);
            part1SeatsOptions.splice(part2OptIdx + 3, 1);
        }
        // randomize part2
        part2Seats.sort(randomSort);
//        alert(part2[0] + ":" + part2Seats[0] + " " + part2[1] + ":" + part2Seats[1] + " " + part2[2] + ":" + part2Seats[2]);
//        alert(part1SeatsOptions);
//        alert(part0SeatsOptions);
        /* work for part1 */
        var part1OptIdx = parseInt(Math.random() * 8 + 0, 10);
        var part1Option = part1SeatsOptions[part1OptIdx];
        part1Seats[0] = part1Option;
        part1Seats[1] = part1Option + 1;
        // delete options from part0
        removeByValue(part0SeatsOptions, part1Option);
        removeByValue(part0SeatsOptions, part1Option + 1);
        // randomize part1
        part1Seats.sort(randomSort);
//        alert(part1[0] + ":" + part1Seats[0] + " " + part1[1] + ":" + part1Seats[1]);
//        alert(part0SeatsOptions);
        /* work for part0 */
        part0SeatsOptions.sort(randomSort);
        var female_cnt = 0;
        // for female
        for(var i = 0; i < part0SeatsOptions.length; i++){
            if(part0SeatsOptions[i] % 2 != 0){
                part0Seats[female_cnt] = part0SeatsOptions[i];
                female_cnt++;
                part0SeatsOptions.splice(i, 1);     
                i = -1;
                part0SeatsOptions.sort(randomSort);
                if(female_cnt == part0_f.length){
                    break;
                }
            }
        }
        // for male
        for(var i = 0; i < part0_m.length; i++){
            part0Seats[part0_f.length + i] = part0SeatsOptions[i];
        }
//        alert(part0Seats);
//        alert(part1 + "\n" + part1Seats);
//        alert(part2 + "\n" + part2Seats);
        /* write back into HTML */
        // write part2
        for(var i = 0; i < part2.length; i++){
            seats[part2Seats[i]].innerHTML = part2[i];
        }   
        // write part1
        for(var i = 0; i < part1.length; i++){
            seats[part1Seats[i]].innerHTML = part1[i];
        }   
        // write part0
        for(var i = 0; i < part0_f.length; i++){
            seats[part0Seats[i]].innerHTML = part0_f[i];
        }   
        for(var i = 0; i < part0_m.length; i++){
            seats[part0Seats[part0_f.length + i]].innerHTML = part0_m[i];
        }   
    }
  </script>
 </body>
 <!-- CSS -->
 <style type="text/css">
  td {
   text-align: center;
   border: 2px solid #373737;
  }
  table {
   border-collapse:collapse;
   border: 2px solid #373737;
   margin-top: 20px;
   margin-bottom: 20px;
   text-align: left
  }
 </style>

</html>
